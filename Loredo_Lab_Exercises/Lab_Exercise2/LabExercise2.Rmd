---
title: "LabExercise2.Rmd"
author: "Natalie Joy Loredo"
date: "2024-03-20"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
Libraries
```{r}
library(rvest)
library(dplyr)
library(polite)
library(stringr) 
library(httr)
```
Scrape 5O Products, Product Name, Type of purchase, Date of review, Individual rating, and Reviews in amazon)
```{r }
#Get 24 Products in 50
products1 <- "https://www.amazon.com.au/s?bbn=4851799051&rh=n%3A6035839051&language=en_AU&_encoding=UTF8&brr=1&content-id=amzn1.sym.b8ed1d3c-2f91-48cc-baac-e6d8e7f439e4&pd_rd_r=708b8da9-4d12-4c9c-b945-e5349e7120c8&pd_rd_w=AsqeN&pd_rd_wg=r572i&pf_rd_p=b8ed1d3c-2f91-48cc-baac-e6d8e7f439e4&pf_rd_r=2EVHVJ7QKDNTJEC8HDFT&rd=1&ref=Oct_d_odnav_d_4885206051_0"

session <- bow(products1, user_agent = "Educational Purposes")
session

first24 <- read_html(products1)

#subset 24 products
firstset24<- first24%>%
    html_nodes("h2")%>%
    html_text()
firstset24

subset24products<- firstset24[1:24]
subset24products
```
Scape Another 24 Products
```{r}
#Get 24 Products in 50
products2 <- "https://www.amazon.com.au/s?i=electronics&bbn=4851799051&rh=n%3A6035839051&page=2&language=en_AU&_encoding=UTF8&brr=1&content-id=amzn1.sym.b8ed1d3c-2f91-48cc-baac-e6d8e7f439e4&pd_rd_r=708b8da9-4d12-4c9c-b945-e5349e7120c8&pd_rd_w=AsqeN&pd_rd_wg=r572i&pf_rd_p=b8ed1d3c-2f91-48cc-baac-e6d8e7f439e4&pf_rd_r=2EVHVJ7QKDNTJEC8HDFT&qid=1709397899&rd=1&ref=sr_pg_1"

session <- bow(products2, user_agent = "Educational Purposes")
session

second24 <- read_html(products2) 

#Subset Products
secondset24 <- second24%>%
    html_nodes("h2")%>%
    html_text()
secondset24

subset24products2 <- secondset24[1:24]
subset24products2
```
Scrape 2 Remaining Products
```{r}
#Get 2 Products   
products3 <- "https://www.amazon.com.au/s?i=electronics&bbn=4851799051&rh=n%3A6035839051&page=3&language=en_AU&_encoding=UTF8&brr=1&content-id=amzn1.sym.b8ed1d3c-2f91-48cc-baac-e6d8e7f439e4&pd_rd_r=708b8da9-4d12-4c9c-b945-e5349e7120c8&pd_rd_w=AsqeN&pd_rd_wg=r572i&pf_rd_p=b8ed1d3c-2f91-48cc-baac-e6d8e7f439e4&pf_rd_r=2EVHVJ7QKDNTJEC8HDFT&qid=1709398205&rd=1&ref=sr_pg_2"

session <- bow(products3, user_agent = "Educational Purposes")
session

product2 <- read_html(products3) 

#subset 2 products
last2 <- product2%>%
    html_nodes("h2")%>%
    html_text()
last2

subset2products <- last2[1:2]
subset2products
```
Combine the Products
```{r}
combinedName <- data.frame(
  ProductName = c(subset24products, subset24products2, subset2products)
)

combinedName 
```
write csv for 50 products
```{r}
write.csv(combinedName, file = "50PRODUCTS.csv") 
#load
head(combinedName)
```
First Product
```{r} 
#Get 13 Names
url1 <- "https://www.amazon.com.au/product-reviews/B0B8MQRGV8/ref=cm_cr_arp_d_viewopt_srt?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&sortBy=recent&pageNumber=1#reviews-filter-bar"
session <- bow(url1, user_agent = "Educational Purposes")
session

url_0 <- read_html(url1)  

#Get 12 Names
url1.0 <- "https://www.amazon.com.au/product-reviews/B0B8MQRGV8/ref=cm_cr_getr_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&sortBy=recent&pageNumber=2#reviews-filter-bar"
session <- bow(url1.0, user_agent = "Educational Purposes")
session

url_1 <- read_html(url1.0)

#Get 13 Names
url1.1 <- "https://www.amazon.com.au/product-reviews/B0B8MQRGV8/ref=cm_cr_getr_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&sortBy=recent&pageNumber=3#reviews-filter-bar"
session <- bow(url1.1, user_agent = "Educational Purposes")
session

url_2 <- read_html(url1.1)

#Get 12 Names
url1.2 <- "https://www.amazon.com.au/product-reviews/B0B8MQRGV8/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&sortBy=recent&pageNumber=4#reviews-filter-bar"
session <- bow(url1.2, user_agent = "Educational Purposes")
session
```
First Product
```{r}
url_3 <- read_html(url1.2)

#Get 13 Reviewer Names
names1.2 <- url_2%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names1.2 
#Get 12 Reviewer Names
names1.3 <- url_3%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names1.3

names1 <- url_0%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names1 

#Get 12 Reviewer Names 
names1.1 <- url_1%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names1.1  

names1.1 <- names1.1 [1:12]

#Get 13 Reviewer Names
names1.2 <- url_2%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names1.2 

#Get 12 Reviewer Names
names1.3 <- url_3%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names1.3

#Type of Purchase 
purchasetype1 <- url_0%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()
purchasetype1  
 
purchasetype1.1 <- url_1%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()
purchasetype1.1

purchasetype1.2<- url_2%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()
purchasetype1.2

purchasetype1.3 <- url_3%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()
purchasetype1.3

#Subset 
purchasetype1.3_ <- purchasetype1.3[1:22]

#Date of Review 
daterev1 <- url_0%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()
daterev1

daterev1.1<- url_1%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()
daterev1.1

daterev1.2<- url_2%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()
daterev1.2 

daterev1.3<- url_3%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()
daterev1.3 

#Subset
daterev1.3_ <- daterev1.3[1:20]

#Individual Ratings
rates1<- url_0%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()
rates1 

rates1.1<- url_1%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()
rates1.1

rates1.2<- url_2%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()
rates1.2 

rates1.3<- url_3%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()
rates1.3

#Review Text
reviews1 <- url_0%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)
reviews1

reviews1.1 <- url_1%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)
reviews1.1 

reviews1.2 <- url_2%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)
reviews1.2

reviews1.3 <- url_3%>%
  html_nodes("span.a-size-base.review-text.review-text-content") %>%
  html_text() %>%
  gsub("\\n", "", .)

reviews1.3_sub <- reviews1.3[1:20]

reviews1.3_sub

#50 Product Names
title1 <- rep(subset24products[[1]],50)
title1

#Data Frames
dataname <- data.frame(
 ReviewerName = c(names1, names1.1, names1.2, names1.3)
)
dataname

#Data Frame of Type of Purchase
datapurchaseType <- data.frame(
    TypeOfPurchase = c(purchasetype1,purchasetype1.1,purchasetype1.2, purchasetype1.3_)
)
datapurchaseType

#Date of Review Data Frame
dataDate <- data.frame(
    Date = c(daterev1,daterev1.1,daterev1.2, daterev1.3_)
)
dataDate

#Individual Rating Data Frame
rate <- data.frame(
    IndividualRating = c(rates1,rates1.1,rates1.2, rates1.3)
)
rate  

#Reviews Text Data Frame
review <- data.frame(
   ReviewText = c(reviews1,reviews1.1,reviews1.2, reviews1.3_sub)
)
review 

#Selecting 50 rows from each data frame
selected_dataname <- head(dataname, 50)
selected_datapurchaseType <- head(datapurchaseType, 50)
selected_dataDate <- head(dataDate, 50)
selected_rate <- head(rate, 50)
selected_review <- head(review, 50)

#product
    pro <- rep(subset24products[1],50)

#combined dataframes
combinedProducts1 <- data.frame(  
        Product = pro,
        Name = selected_dataname,
        TypeOfPurchase = selected_datapurchaseType,
        Date = selected_dataDate, 
        IndividualRating = selected_rate,
        ReviewText = selected_review
)
combinedProducts1 

#write csv for product 1 review
write.csv(combinedProducts1, file = "1stProduct.csv")

#load product 1 Samsung Galaxy Buds2 Pro, Graphite
head(combinedProducts1)
```
Second Product
```{r} 
#Get 13 Names
URL2 <- "https://www.amazon.com.au/product-reviews/B0CB8HHS8V/ref=acr_dpx_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(URL2, user_agent = "Educational Purposes")
session

url2 <- read_html(URL2)  

#Get 12 Names
URL2.0 <- "https://www.amazon.com.au/product-reviews/B0CB8HHS8V/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"
session <- bow(URL2.0, user_agent = "Educational Purposes")
session

url2.0 <- read_html(URL2.0)

#Get 13 Names
URL2.1 <- "https://www.amazon.com.au/product-reviews/B0CB8HHS8V/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar%22"
session <- bow(URL2.1, user_agent = "Educational Purposes")
session

url2.1 <- read_html(URL2.1)

#Get 12 Names
URL2.2 <- "https://www.amazon.com.au/product-reviews/B0CB8HHS8V/ref=cm_cr_getr_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"
session <- bow(URL2.2, user_agent = "Educational Purposes")
session

url2.2 <- read_html(URL2.2)
```
Second Product
```{r}
#Get 19 Reviewer Names
names2 <- url2%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names2

#Get 13 Names
names2.0 <- url2.0%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names2.0  <- names2.0[3:15] 
names2.0

#Get the Reviewers Names
names2.1 <- url2.1%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names2.1   

#Get 10 Reviewers Names
names2.2 <- url2.2%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names2.2 <- names2.2[3:12]
names2.2

#Type of Purhcase 
purchasetype2 <- url2%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()
purchasetype2 

purchasetype2.0 <- url2.0%>%
      html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
      html_text()
purchasetype2.0
  
purchasetype2.1 <- url2.1%>%
      html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
      html_text()
purchasetype2.1
  
purchasetype2.2 <- url2.2%>%
      html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
      html_text()
purchasetype2.2 <- purchase2.2[1:22] 
purchasetype2.2
  
#Date of Review
daterev2 <- url2%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()
daterev2

daterev2.0 <- url2.0%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()
daterev2.0

daterev2.1 <- url2.1%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()
daterev2.1 

daterev2.2 <- url2.2%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()
daterev2.2 

#Subset
daterevs2.2 <- daterev2.2[1:20] 

#Individual Ratings 
rates2 <- url2%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()
rates2

rates2.0 <- url2.0%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()
rates2.0

rates2.1 <- url2.1%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()
rates2.1 

rates2.2<- url2.2%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()
rates2.2

#Review Texts
reviews2 <- url2%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
 gsub("\\n", "", .)
reviews2 

reviews2.0 <- url2.0%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
 gsub("\\n", "", .)

reviews2.1 <- url2.1%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
 gsub("\\n", "", .)

reviews2.2 <- url2.2%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
 gsub("\\n", "", .)
reviews2.2 <- reviews2.2[1:30]

# DATA FRAMES
dataname2 <- data.frame(
    ReviewerName = c(names2, names2.0, names2.1, names2.2)[1:50]
)

datapurchaseType2 <- data.frame(
    TypeOfPurchase = c(purchasetype2, purchasetype2.0, purchasetype2.1, purchasetype2.2)[1:50]
)

dataDate2 <- data.frame(
    Date = c(daterev2, daterev2.0, daterev2.1, daterevs2.2)[1:50]
)

rate2 <- data.frame(
    IndividualRating = c(rates2, rates2.0, rates2.1, rates2.2)[1:50]
)

review_dataframe2 <- data.frame(
    ReviewText = c(reviews2, reviews2.0, reviews2.1, reviews2.2)[1:50]
)

 pro2 <- rep(subset24products[2],50) 
 
combinedProducts2 <- data.frame( 
   Product = pro2,
   ReviewerName = dataname2$ReviewerName,
   TypeOfPurchase = datapurchaseType2$TypeOfPurchase,
   Date = dataDate2$Date,
   IndividualRating = rate2$IndividualRating,
  ReviewText = review_dataframe2$ReviewText
)

combinedProducts2

#Product 2 csv
write.csv(combinedProducts2, file = "2ndProduct.csv")
#load 
head(combinedProducts2)
```
Third Product
```{r} 
URL3 <- "https://www.amazon.com.au/product-reviews/B07QKYTGH9/ref=acr_dpx_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(URL3, user_agent = "Educational Purposes")
session

url3 <- read_html(URL3)  

#Get 12 
URL3.1 <- "https://www.amazon.com.au/product-reviews/B07QKYTGH9/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"
session <- bow(URL3.1, user_agent = "Educational Purposes")
session

url3.1 <- read_html(URL3.1)

URL3.2 <- "https://www.amazon.com.au/product-reviews/B07QKYTGH9/ref=cm_cr_getr_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"
session <- bow(URL3.2, user_agent = "Educational Purposes")
session

url3.2 <- read_html(URL3.2)

#Get 12
URL3.3 <- "https://www.amazon.com.au/product-reviews/B07QKYTGH9/ref=cm_cr_getr_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(URL3.3, user_agent = "educational purposes")
session

url3.3 <- read_html(URL3.3)

URL3.4 <- "https://www.amazon.com.au/product-reviews/B07QKYTGH9/ref=cm_cr_getr_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
session <- bow(URL3.4, user_agent = "Educational Purposes")
session

url3.4 <- read_html(URL3.4)
```
Third Product
```{r}
#Get 19 Reviewer Names
names3 <- url3%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names3

#Get 13
names3.1 <- url3.1%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names3.1  <- names3.1[3:13] 
names3.1

names3.2 <- url3.2%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names3.2 <- names3.2 [3:9] 
names3.2
#Get 10 
names3.3 <- url3.3%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names3.3 <- names3.3[3:12]
names3.3

names3.4 <- url3.4 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names3.4 <- names3.4[3:12]
names3.4

#Type of Purhcase 
purchasetype3<- url3%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()
purchasetype3

purchasetype3.1 <- url3.1%>%
      html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
      html_text()
purchasetype3.1
  
purchasetype3.2<- url3.2%>%
      html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
      html_text()
purchasetype3.2
  
purchasetype3.3 <- url3.3%>%
      html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
      html_text()
purchasetype3.3 <- purchasetype3.3 
purchasetype3.3 
  
purchasetype3.4 <- url3.4%>%
      html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
      html_text()
purchasetype3.4 <- purchasetype3.4 
purchasetype3.4

#Date of Review
daterev3<- url3%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()
daterev3

daterev3.1<- url3.1%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()
daterev3.1

daterev3.2<- url3.2%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()
daterev3.2 

daterev3.3<- url3.3%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()
daterev3.3 

#Subset
daterevs3.3 <- daterev3.3[1:20]

#Individual Ratings 
rates3<- url3%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()
rates3

rates3.1<- url3.1%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()
rates3.1

rates3.2<- url3.2%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()
rates3.2 

rates3.3<- url3.3%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()
rates3.3

#Reviews
reviews3 <- url3%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
 gsub("\\n", "", .)
reviews3 

reviews3.1 <- url3.1%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
 gsub("\\n", "", .)

reviews3.2 <- url3.2%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
 gsub("\\n", "", .)

reviews3.3 <- url3.3%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
 gsub("\\n", "", .)
reviews3.3<- reviews3.3[1:12]   

reviews3.4<- url3.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
 gsub("\\n", "", .)
reviews3.4<- reviews3.4[1:10]
 
# DATA FRAMES
dataname3 <- data.frame(
    ReviewerName = c(names3, names3.1, names3.2, names3.3,names3.4)[1:50]
)
dataname3

datapurchaseType3 <- data.frame(
    TypeOfPurchase = c(purchasetype3, purchasetype3.1, purchasetype3.2, purchasetype3.3, purchasetype3.4)[1:50]
)
datapurchaseType3

dataDate3 <- data.frame(
    Date = c(daterev3, daterev3.1, daterev3.2, daterevs3.3)[1:50]
)

rate3 <- data.frame(
    IndividualRating = c(rates3, rates3.1, rates3.2, rates3.3)[1:50]
)

review_dataframe3 <- data.frame(
    ReviewText = c(reviews3, reviews3.1, reviews3.2, reviews3.3,reviews3.4)[1:50]
)

     pro3 <- rep(subset24products[3],50) 
     
combinedProducts3 <- data.frame( 
          Product = pro3,
          ReviewerName = dataname3$ReviewerName,
          TypeOfPurchase = datapurchaseType3$TypeOfPurchase,
          Date = dataDate3$Date,
          IndividualRating = rate3$IndividualRating,
          ReviewText = review_dataframe3$ReviewText
)

combinedProducts3
#Product 3 csv
write.csv(combinedProducts3, file = "3rdProduct.csv")
head(combinedProducts3)
```
Fourth Product
```{r}
URL4 <- "https://www.amazon.com.au/product-reviews/B085RN9GRX/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(URL4, user_agent = "Educational Purposes")
session

url4 <- read_html(URL4)  

#Get 12
URL4.1 <- "https://www.amazon.com.au/product-reviews/B07QKYTGH9/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"
session <- bow(URL4.1, user_agent = "Educational Purposes")
session

url4.1 <- read_html(URL4.1)

URL4.2 <- "https://www.amazon.com.au/product-reviews/B085RN9GRX/ref=cm_cr_getr_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"
session <- bow(URL4.2, user_agent = "Educational Purposes")
session

url4.2 <- read_html(URL4.2)

URL4.3 <- "https://www.amazon.com.au/product-reviews/B085RN9GRX/ref=cm_cr_getr_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(URL4.3, user_agent = "Educational Purposes")
session

url4.3 <- read_html(URL4.3)

URL4.4 <- "https://www.amazon.com.au/product-reviews/B085RN9GRX/ref=cm_cr_getr_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
session <- bow(URL4.4, user_agent = "Educational Purposes")
session

url4.4 <- read_html(URL4.4)
```
Fourth Product
```{r}
#Reviwer's Namess
names4 <- url4%>%
    html_nodes("div.a-profile-content") %>%
    html_text()

names4.1 <- url4.1%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names4.1 <- names4.1[3:13] 

names4.2 <- url4.2%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names4.2 <- names4.2[3:9] 

names4.3 <- url4.3%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names4.3 <- names4.3[3:12]

names4.4 <- url4.4%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names4.4 <- names4.4[3:12]

#Type of Purchase
purchasetype4 <- url4%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype4.1 <- url4.1%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype4.2 <- url4.2%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype4.3 <- url4.3%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype4.4 <- url4.4%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

#Date of Review
daterev4 <- url4%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()
 
daterev4.1 <- url4.1%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev4.2 <- url4.2%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev4.3 <- url4.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev4.4 <- url4.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()
#Subset
daterevs4.3 <- daterev4.3[1:20] 

#Individual Ratings 
rates4 <- url4%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rates4.1 <- url4.1%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rates4.2 <- url4.2%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rates4.3 <- url4.3%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rates4.4 <- url4.4%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

#Reviews
reviews4 <- url4%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

reviews4.1 <- url4.1%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

reviews4.2 <- url4.2%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

reviews4.3 <- url4.3%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
reviews4.3 <- reviews4.3[1:12]   

reviews4.4 <- url4.4%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
reviews4.4 <- reviews4.4[1:10]

#Data Frames
dataname4 <- data.frame(
    ReviewerName = c(names4, names4.1, names4.2, names4.3, names4.4)[1:50]
)
dataname4

datapurchaseType4 <- data.frame(
    TypeOfPurchase = c(purchasetype4, purchasetype4.1, purchasetype4.2, purchasetype4.3, purchasetype4.4)[1:50]
)
datapurchaseType4

dataDate4 <- data.frame(
    Date = c(daterev4, daterev4.1, daterev4.2, daterevs4.3)[1:50]
)

rate4 <- data.frame(
    IndividualRating = c(rates4, rates4.1, rates4.2, rates4.3)[1:50]
)


review_dataframe4 <- data.frame(
    ReviewText = c(reviews4, reviews4.1, reviews4.2, reviews4.3, reviews4.4)[1:50]
)
    
     pro4 <- rep(subset24products[4],50)
     
combinedProducts4 <- data.frame( 
  Product = pro4,
  ReviewerName = dataname4$ReviewerName,
  TypeOfPurchase = datapurchaseType4$TypeOfPurchase,
  Date = dataDate4$Date,
  IndividualRating = rate4$IndividualRating,
  ReviewText = review_dataframe4$ReviewText
)

combinedProducts4
#Product 4 csv
write.csv(combinedProducts4, file = "4thProduct.csv")

```
Fifth Product
```{r}
URL5<- "https://www.amazon.com.au/product-reviews/B0BHDRW3MK/ref=acr_dpx_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(URL5, user_agent = "Educational Purposes")
session

url5 <- read_html(URL5)

URL5.1 <- "https://www.amazon.com.au/product-reviews/B0BHDRW3MK/ref=acr_dpx_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(URL5.1, user_agent = "Educational Purposes")
session

url5.1 <- read_html(URL5.1)

URL5.2 <- "https://www.amazon.com.au/product-reviews/B0BHDRW3MK/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"
session <- bow(URL5.2, user_agent = "educational purposes")
session

url5.2 <- read_html(URL5.2)

# This link adds 12
URL5.3 <- "https://www.amazon.com.au/product-reviews/B0BHDRW3MK/ref=cm_cr_getr_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"
session <- bow(URL5.3, user_agent = "educational purposes")
session

url5.3 <- read_html(URL5.3)

URL5.4 <- "https://www.amazon.com.au/product-reviews/B0BHDRW3MK/ref=cm_cr_getr_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(URL5.4, user_agent = "educational purposes")
session

url5.4 <- read_html(URL5.4)
```
Fifth Product 
```{r}
#Reviwers Names
names5 <- url5%>%
    html_nodes("div.a-profile-content") %>%
    html_text()

names5.1 <- url5.1%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names5.1 <- names5.1[3:13] 

names5.2 <- url5.2%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names5.2 <- names5.2[3:9] 

names5.3 <- url5.3%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names5.3 <- names5.3[3:12]

names5.4 <- url5.4%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names5.4 <- names5.4[3:12]

#Type of purchase 
purchasetype5 <- url5%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype5.1 <- url5.1%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype5.2 <- url5.2%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype5.3 <- url5.3%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype5.4 <- url5.4%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

#Date of Review 
daterev5 <- url5%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev5.1 <- url5.1%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev5.2 <- url5.2%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev5.3 <- url5.3%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev5.4 <- url5.4%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

#Subset
daterevs5.3 <- daterev5.4[1:20]

#Individual Ratings
rates5 <- url5%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rates5.1 <- url5.1%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rates5.2 <- url5.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rates5.3 <- url5.3%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rates5.4 <- url5.4%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

#Reviews 
reviews5 <- url5%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

reviews5.1 <- url5.1%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

reviews5.2 <- url5.2%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

reviews5.3 <- url5.3%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
reviews5.3 <- reviews5.3[1:12]   

reviews5.4 <- url5.4%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
reviews5.4 <- reviews5.4[1:10]

#Data Frames
dataname5 <- data.frame(
    ReviewerName = c(names5, names5.1, names5.2, names5.3, names5.4)[1:50]
)
dataname5

datapurchaseType5 <- data.frame(
    TypeOfPurchase = c(purchasetype5, purchasetype5.1, purchasetype5.2, purchasetype5.3, purchasetype5.4)[1:50]
)
datapurchaseType5

dataDate5 <- data.frame(
    Date = c(daterev5, daterev5.1, daterev5.2, daterevs5.3)[1:50]
)

rate5 <- data.frame(
    IndividualRating = c(rates5, rates5.1, rates5.2, rates5.3)[1:50]
)

review_dataframe5 <- data.frame(
    ReviewText = c(reviews5, reviews5.1, reviews5.2, reviews5.3, reviews5.4)[1:50]
) 

 pro5 <- rep(subset24products[5],50)
 
combinedProducts5 <- data.frame( 
  Product = pro5,
  ReviewerName = dataname5$ReviewerName,
  TypeOfPurchase = datapurchaseType5$TypeOfPurchase,
  Date = dataDate5$Date,
  IndividualRating = rate5$IndividualRating,
  ReviewText = review_dataframe5$ReviewText
)

combinedProducts5

#Product 5 csv
write.csv(combinedProducts5, file = "5thProduct.csv")
```
Sixth Product
```{r} 
URL6<- "https://www.amazon.com.au/product-reviews/B0CCVCPCNR/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(URL6, user_agent = "Educational Purposes")
session

url6 <- read_html(URL6)

URL6.1 <- "https://www.amazon.com.au/product-reviews/B0CCVCPCNR/ref=acr_search_hist_4?ie=UTF8&filterByStar=four_star&reviewerType=all_reviews#reviews-filter-bar" 
session <- bow(URL6.1, user_agent = "Educational Purposes")
session

url6.1 <- read_html(URL6.1)

URL6.2 <- "https://www.amazon.com.au/product-reviews/B0CCVCPCNR/ref=acr_search_hist_3?ie=UTF8&filterByStar=three_star&reviewerType=all_reviews#reviews-filter-bar" 
session <- bow(URL6.2, user_agent = "Educational Purposes")
session

url6.2 <- read_html(URL6.2)

URL6.3 <- "https://www.amazon.com.au/product-reviews/B0CCVCPCNR/ref=acr_search_hist_2?ie=UTF8&filterByStar=two_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(URL6.3, user_agent = "Educational Purposes")
session

url6.3 <- read_html(URL6.3)

URL6.4 <- "https://www.amazon.com.au/product-reviews/B0BHDRW3MK/ref=cm_cr_getr_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(URL6.4, user_agent = "Educational Purposes")
session

url6.4 <- read_html(URL6.4)
```
```{r}
#Reviewers Names
names6 <- url6%>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
names6

names6.1 <- url6.1%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names6.1 <- names6.1[3:11] 
names6.1

#Get 12 
names6.2 <- url6.2%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names6.2 <- names6.2[3:9] 
names6.2

#Get 10
names6.3 <- url6.3%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names6.3 <- names6.3[3:12]
names6.3 

#Type of Purchase 
purchasetype6 <- url6%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype6.1 <- url6.1%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype6.2 <- url6.2%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype6.3 <- url6.3%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype6.4 <- url6.4%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

#Date of Review
daterev6 <- url6%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev6.1 <- url6.1%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev6.2 <- url6.2%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev6.3 <- url6.3%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev6.4 <- url6.4%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

#Subset
daterevs6.3 <- daterev6.4[1:20]

#Individual Ratings 
rates6 <- url6%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rates6.1 <- url6.1%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rates6.2 <- url6.2%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rates6.3 <- url6.3%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rates6.4 <- url6.4%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

#Reviews
reviews6 <- url6%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

reviews6.1 <- url6.1%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

reviews6.2 <- url6.2%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

reviews6.3 <- url6.3%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
reviews6.3 <- reviews6.3[1:12]   

reviews6.4 <- url6.4%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
reviews6.4 <- reviews6.4[1:10]

#Data Frames
dataname6 <- data.frame(
    ReviewerName = c(names6, names6.1, names6.2, names6.3)[1:50]
)

datapurchaseType6 <- data.frame(
    TypeOfPurchase = c(purchasetype6, purchasetype6.1, purchasetype6.2, purchasetype6.3, purchasetype6.4)[1:50]
)

dataDate6 <- data.frame(
    Date = c(daterev6, daterev6.1, daterev6.2, daterev6.3)[1:50]
)

rate6 <- data.frame(
    IndividualRating = c(rates6, rates6.1, rates6.2, rates6.3)[1:50]
)

review_dataframe6 <- data.frame(
    ReviewText = c(reviews6, reviews6.1, reviews6.2, reviews6.3, reviews6.4)[1:50]
) 

 pro6 <- rep(subset24products[6],50) 
  
combinedProducts6 <- data.frame( 
        Product =  pro6,
        ReviewerName = dataname6$ReviewerName,
        TypeOfPurchase = datapurchaseType6$TypeOfPurchase,
        Date = dataDate6$Date,
        IndividualRating = rate6$IndividualRating,
        ReviewText = review_dataframe6$ReviewText
)
combinedProducts6

#Product 6 csv
write.csv(combinedProducts6, file = "6thProduct.csv")
```
Seventh Product
```{r}
URL7 <- "https://www.amazon.com.au/product-reviews/B0C8HCSL1Z/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar" 
session <- bow(URL7, user_agent = "Educational Purposes")
session

url7 <- read_html(URL7)

URL7.1 <- "https://www.amazon.com.au/product-reviews/B0C8HCSL1Z/ref=acr_search_hist_4?ie=UTF8&filterByStar=four_star&reviewerType=all_reviews#reviews-filter-bar" 
session <- bow(URL7.1, user_agent = "Educational Purposes")
session

url7.1 <- read_html(URL7.1)

URL7.2 <- "https://www.amazon.com.au/product-reviews/B0C8HCSL1Z/ref=acr_search_hist_3?ie=UTF8&filterByStar=three_star&reviewerType=all_reviews#reviews-filter-bar" 
session <- bow(URL7.2, user_agent = "Educational Purposes")
session

url7.2 <- read_html(URL7.2)

URL7.3 <- "https://www.amazon.com.au/product-reviews/B0C8HCSL1Z/ref=acr_search_hist_2?ie=UTF8&filterByStar=two_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(URL7.3, user_agent = "Educational Purposes")
session

url7.3 <- read_html(URL7.3)

URL7.4 <- "https://www.amazon.com.au/product-reviews/B0C8HCSL1Z/ref=acr_search_hist_1?ie=UTF8&filterByStar=one_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(URL7.4, user_agent = "Educational Purposes")
session

url7.4 <- read_html(URL7.4)
```
Seventh Product
```{r}
#Reviewers Names
names7 <- url7%>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
names7

names7.1 <- url7.1%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names7.1 <- names7.1[3:11] 
names7.1

names7.2 <- url7.2%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names7.2 <- names7.2[3:9] 
names7.2

names7.3 <- url7.3%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names7.3 <- names7.3[3:12]
names7.3 

#Type of Purchase 
purchasetype7 <- url7%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype7.1 <- url7.1%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype7.2 <- url7.2%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype7.3 <- url7.3%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype7.4 <- url7.4%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

#Date of Review 
daterev7 <- url7%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev7.1 <- url7.1%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev7.2 <- url7.2%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev7.3 <- url7.3%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev7.4 <- url7.4%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

#Subset
daterevs7.3 <- daterev7.4[1:20]

#Individual ratings 
rates7 <- url7%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rates7.1 <- url7.1%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rates7.2 <- url7.2%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rates7.3 <- url7.3%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rates7.4 <- url7.4%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

#Reviews
reviews7 <- url7%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

reviews7.1 <- url7.1%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

reviews7.2 <- url7.2%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

reviews7.3 <- url7.3%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
reviews7.3 <- reviews7.3[1:12]   

reviews7.4 <- url7.4%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
reviews7.4 <- reviews7.4[1:10] 

#Data Frames
dataname7 <- data.frame(
    ReviewerName = c(names7, names7.1, names7.2, names7.3 )[1:50]
)
dataname7

datapurchaseType7 <- data.frame(
    TypeOfPurchase = c(purchasetype7, purchasetype7.1, purchasetype7.2, purchasetype7.3, purchasetype7.4)[1:50]
)
datapurchaseType7

dataDate7 <- data.frame(
    Date = c(daterev7, daterev7.1, daterev7.2, daterevs7.3)[1:50]
)

rate7 <- data.frame(
    IndividualRating = c(rates7, rates7.1, rates7.2, rates7.3)[1:50]
)

review_dataframe7 <- data.frame(
    ReviewText = c(reviews7, reviews7.1, reviews7.2, reviews7.3, reviews7.4)[1:50]
)
 pro7 <- rep(subset24products[7],50)

combinedProducts7 <- data.frame( 
          Product = pro7,
          ReviewerName = dataname7$ReviewerName,
          TypeOfPurchase = datapurchaseType7$TypeOfPurchase,
          Date = dataDate7$Date,
          IndividualRating = rate7$IndividualRating,
          ReviewText = review_dataframe7$ReviewText
)
combinedProducts7

#Product 7 csv 
write.csv(combinedProducts7, file = "7thProduct.csv")
```
Eighth Product 
```{r}
URL8 <- "https://www.amazon.com.au/product-reviews/B09WMJCQRM/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar" 
session <- bow(URL8, user_agent = "Educational Purposes")
session

url8 <- read_html(URL8)

URL8.1 <- "https://www.amazon.com.au/product-reviews/B09WMJCQRM/ref=acr_search_hist_4?ie=UTF8&filterByStar=four_star&reviewerType=all_reviews#reviews-filter-bar" 
session <- bow(URL8.1, user_agent = "Educational Purposes")
session

url8.1 <- read_html(URL8.1)

URL8.2 <- "https://www.amazon.com.au/product-reviews/B09WMJCQRM/ref=acr_search_hist_three?ie=UTF8&filterByStar=three_star&reviewerType=all_reviews#reviews-filter-bar" 
session <- bow(URL8.2, user_agent = "Educational Purposes")
session

url8.2 <- read_html(URL8.2)

URL8.3 <- "https://www.amazon.com.au/product-reviews/B09WMJCQRM/ref=acr_search_hist_2?ie=UTF8&filterByStar=two_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(URL8.3, user_agent = "Educational Purposes")
session

url8.3 <- read_html(URL8.3)

URL8.4 <- "https://www.amazon.com.au/product-reviews/B09WMJCQRM/ref=acr_search_hist_1?ie=UTF8&filterByStar=one_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(URL8.4, user_agent = "Educational Purposes")
session

url8.4 <- read_html(URL8.4)
```
Eighth Product
```{r}
#Reviewers Names
names8 <- url8%>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
names8

#Get 12
names8.1 <- url8.1%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names8.1 <- names8.1[3:11] 
names8.1

names8.2 <- url8.2%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names8.2 <- names8.2[3:9] 
names8.2

names8.3 <- url8.3%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names8.3 <- names8.3[3:12]
names8.3 

#Type of Purchase 
purchasetype8 <- url8%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype8.1 <- url8.1%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype8.2 <- url8.2%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype8.3 <- url8.3%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype8.4 <- url8.4%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

#Date of Review
daterev8 <- url8%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev8.1 <- url8.1%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev8.2 <- url8.2%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev8.3 <- url8.3%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev8.4 <- url8.4%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

#Subset
daterevs8.3 <- daterev8.4[1:20]

#Individual ratings 
rates8 <- url8%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rates8.1 <- url8.1%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rates8.2 <- url8.2%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rates8.3 <- url8.3%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rates8.4 <- url8.4%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

#Reviews
reviews8 <- url8%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

reviews8.1 <- url8.1%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

reviews8.2 <- url8.2%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

reviews8.3 <- url8.3%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
reviews8.3 <- reviews8.3[1:12]   

reviews8.4 <- url8.4%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
reviews8.4 <- reviews8.4[1:10]

#Data Frames
dataname8 <- data.frame(
    ReviewerName = c(names8, names8.1, names8.2, names8.3)[1:50]
)

datapurchaseType8 <- data.frame(
    TypeOfPurchase = c(purchasetype8, purchasetype8.1, purchasetype8.2, purchasetype8.3, purchasetype8.4)[1:50]
)

dataDate8 <- data.frame(
    Date = c(daterev8, daterev8.1, daterev8.2, daterev8.3)[1:50]
)

rate8 <- data.frame(
    IndividualRating = c(rates8, rates8.1, rates8.2, rates8.3)[1:50]
)

review_dataframe8 <- data.frame(
    ReviewText = c(reviews8, reviews8.1, reviews8.2, reviews8.3, reviews8.4)[1:50]
) 

 pro8 <- rep(subset24products[8],50) 
 
combinedProducts8 <- data.frame( 
        Product = pro8,
        ReviewerName = dataname8$ReviewerName,
        TypeOfPurchase = datapurchaseType8$TypeOfPurchase,
        Date = dataDate8$Date,
        IndividualRating = rate8$IndividualRating,
        ReviewText = review_dataframe8$ReviewText
)

combinedProducts8

#Product 8 Reviews
write.csv(combinedProducts8, file = "8thProduct.csv")
```
Nineth Product
```{r}
URL9 <- "https://www.amazon.com.au/product-reviews/B0CMZTG3YN/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(URL9, user_agent = "Educational Purposes")
session

url9 <- read_html(URL9)

URL9.1 <- "https://www.amazon.com.au/product-reviews/B0CMZTG3YN/ref=acr_search_hist_4?ie=UTF8&filterByStar=four_star&reviewerType=all_reviews#reviews-filter-bar" 
session <- bow(URL9.1, user_agent = "Educational Purposes")
session

url9.1 <- read_html(URL9.1)

URL9.2 <- "https://www.amazon.com.au/product-reviews/B0CMZTG3YN/ref=acr_search_hist_3?ie=UTF8&filterByStar=three_star&reviewerType=all_reviews#reviews-filter-bar" 
session <- bow(URL9.2, user_agent = "Educational Purposes")
session

url9.2 <- read_html(URL9.2)

URL9.3 <- "https://www.amazon.com.au/product-reviews/B0CMZTG3YN/ref=acr_search_hist_2?ie=UTF8&filterByStar=two_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(URL9.3, user_agent = "Educational Purposes")
session

url9.3 <- read_html(URL9.3)

URL9.4 <- "https://www.amazon.com.au/product-reviews/B0CMZTG3YN/ref=acr_search_hist_1?ie=UTF8&filterByStar=one_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(URL9.4, user_agent = "Educational Purposes")
session

url9.4 <- read_html(URL9.4)
```
Nineth Product
```{r}
#Reviewers Names
names9 <- url9%>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
names9

names9.1 <- url9.1%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names9.1 <- names9.1[3:11] 
names9.1

names9.2 <- url9.2%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names9.2 <- names9.2[3:9] 
names9.2

names9.3 <- url9.3%>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names9.3 <- names9.3[3:12]
names9.3 

#Type of purchase 
purchasetype9 <- url9%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype9.1 <- url9.1%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype9.2 <- url9.2%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype9.3 <- url9.3%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype9.4 <- url9.4%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

#Date of Review  
daterev9 <- url9%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev9.1 <- url9.1%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev9.2 <- url9.2%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev9.3 <- url9.3%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev9.4 <- url9.4%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

#Subset
daterevs9.3 <- daterev9.4[1:20]

#Individual ratings 
rates9 <- url9%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rates9.1 <- url9.1%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rates9.2 <- url9.2%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rates9.3 <- url9.3%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rates9.4 <- url9.4%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

#Reviews
reviews9 <- url9%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

reviews9.1 <- url9.1%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

reviews9.2 <- url9.2%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

reviews9.3 <- url9.3%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
reviews9.3 <- reviews9.3[1:12]   

reviews9.4 <- url9.4%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
reviews9.4 <- reviews9.4[1:10]

#Data Frames
dataname9 <- data.frame(
    ReviewerName = c(names9, names9.1, names9.2, names9.3)[1:50]
)

datapurchaseType9 <- data.frame(
    TypeOfPurchase = c(purchasetype9, purchasetype9.1, purchasetype9.2, purchasetype9.3, purchasetype9.4)[1:50]
)

dataDate9 <- data.frame(
    Date = c(daterev9, daterev9.1, daterev9.2, daterev9.3)[1:50]
)

rate9 <- data.frame(
    IndividualRating = c(rates9, rates9.1, rates9.2, rates9.3)[1:50]
)

review_dataframe9 <- data.frame(
    ReviewText = c(reviews9, reviews9.1, reviews9.2, reviews9.3, reviews9.4)[1:50]
) 

 pro9 <- rep(subset24products[9],50) 
 
combinedProducts9 <- data.frame( 
          Product = pro9,
          ReviewerName = dataname9$ReviewerName,
          TypeOfPurchase = datapurchaseType9$TypeOfPurchase,
          Date = dataDate9$Date,
          IndividualRating = rate9$IndividualRating,
          ReviewText = review_dataframe9$ReviewText
)

combinedProducts9

#Product 9 Reviews
write.csv(combinedProducts9, file = "9thProduct.csv")
```
Tenth Product
```{r}
URL10 <- "https://www.amazon.com.au/product-reviews/B0CFXWNPP2/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(URL10, user_agent = "Educational Purposes")
session

url10 <- read_html(URL10)

URL10.1 <- "https://www.amazon.com.au/product-reviews/B0CFXWNPP2/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(URL10.1, user_agent = "Educational Purposes")
session

url10.1 <- read_html(URL10.1)

URL10.2 <- "https://www.amazon.com.au/product-reviews/B0CFXWNPP2/ref=acr_search_hist_4?ie=UTF8&filterByStar=four_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(URL10.2, user_agent = "Educational Purposes")
session

url10.2 <- read_html(URL10.2)

URL10.3 <- "https://www.amazon.com.au/product-reviews/B0CFXWNPP2/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(URL10.3, user_agent = "Educational Purposes")
session

url10.3 <- read_html(URL10.3)

URL10.4 <- "https://www.amazon.com.au/product-reviews/B0CFXWNPP2/ref=acr_search_hist_3?ie=UTF8&filterByStar=three_star&reviewerType=all_reviews#reviews-filter-bar"
url10.4 <- read_html(URL10.4)
```
Tenth Product
```{r}
#Reviewers Names
names10 <- url10%>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
names10

names10.1 <- url10.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names10.1 <- names10.1[3:11] 
names10.1

names10.2 <- url10.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names10.2 <- names10.2[3:9] 
names10.2

names10.3 <- url10.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
names10.3 <- names10.3[3:12]
names10.3

#Type of purchase 
purchasetype10 <- url10%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype10.1 <- url10.1%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype10.2 <- url10.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype10.3 <- url10.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

purchasetype10.4 <- url10.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

#Date of Review 
daterev10 <- url10%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev10.1 <- url10.1%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev10.2 <- url10.2%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev10.3 <- url10.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

daterev10.4 <- url10.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

#Subset
daterevs10.3 <- daterev10.4[1:20]

#Individual Ratings 
rates10 <- url10%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rates10.1 <- url10.1%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rates10.2 <- url10.2%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()
 
rates10.3 <- url10.3%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rates10.4 <- url10.4%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

#Reviews
reviews10 <- url10%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

reviews10.1 <- url10.1%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

reviews10.2 <- url10.2%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

reviews10.3 <- url10.3%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
reviews10.3 <- reviews10.3[1:12]   

reviews10.4 <- url10.4%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
reviews10.4 <- reviews10.4[1:10]

# DATA FRAMES
dataname10 <- data.frame(
    ReviewerName = c(names10, names10.1, names10.2, names10.3)[1:50]
)

datapurchaseType10 <- data.frame(
    TypeOfPurchase = c(purchasetype10, purchasetype10.1, purchasetype10.2, purchasetype10.3, purchasetype10.4)[1:50]
)

dataDate10 <- data.frame(
    Date = c(daterev10, daterev10.1, daterev10.2, daterev10.3)[1:50]
)

rate10 <- data.frame(
    IndividualRating = c(rates10, rates10.1, rates10.2, rates10.3)[1:50]
)

review_dataframe10 <- data.frame(
    ReviewText = c(reviews10, reviews10.1, reviews10.2, reviews10.3, reviews10.4)[1:50]
) 

 pro10 <- rep(subset24products[10],50)
 
combinedProducts10 <- data.frame( 
        Product = pro10,
        ReviewerName = dataname10$ReviewerName,
        TypeOfPurchase = datapurchaseType10$TypeOfPurchase,
        Date = dataDate10$Date,
        IndividualRating = rate10$IndividualRating,
        ReviewText = review_dataframe10$ReviewText
)

combinedProducts10

#Product 10 Reviews
write.csv(combinedProducts10, file = "10thProduct.csv")
```